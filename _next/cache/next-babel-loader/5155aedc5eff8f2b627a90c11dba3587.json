{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\myserver\\\\donate.shpp.com-frontend\\\\pages\\\\admin\\\\projects.js\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { Card, Container, Table } from 'react-bootstrap';\nimport Page from '../../layout/admin/Page';\nimport withAuth from '../../layout/admin/HOC/withAuth';\nimport { PROJECTS_LIST } from '../../utils/apiUrls';\nimport { fetchDataGet } from '../../utils/fetchData';\n\nvar AdminListPage = function AdminListPage(props) {\n  var getSortedProjects = function getSortedProjects(projects) {\n    var router = useRouter();\n    var filter = router.query.filter;\n    var completedProjects = projects.filter(function (project) {\n      return project.completed;\n    });\n    var notCompletedProjects = projects.filter(function (project) {\n      return !project.completed;\n    });\n    return filter === 'completed' ? _toConsumableArray(completedProjects.sort(function (a, b) {\n      return a.creationTime < b.creationTime ? 1 : -1;\n    })) : [].concat(_toConsumableArray(notCompletedProjects.sort(function (a, b) {\n      return a.creationTime < b.creationTime ? 1 : -1;\n    })), _toConsumableArray(completedProjects.sort(function (a, b) {\n      return a.creationTime < b.creationTime ? 1 : -1;\n    })));\n  };\n\n  var projects = props.projects;\n  return __jsx(Page, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-943465413\" + \" \" + \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0438\"), __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, __jsx(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, __jsx(Card.Header, {\n    className: \"justify-content-around d-flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }), __jsx(Card.Body, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, __jsx(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    size: \"sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, __jsx(\"thead\", {\n    className: \"jsx-943465413\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }\n  }, __jsx(\"tr\", {\n    className: \"jsx-943465413\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, __jsx(\"th\", {\n    className: \"jsx-943465413\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 19\n    }\n  }, \"#\"), __jsx(\"th\", {\n    className: \"jsx-943465413\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 19\n    }\n  }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\"), __jsx(\"th\", {\n    className: \"jsx-943465413\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 19\n    }\n  }, \"\\u041F\\u043B\\u0430\\u043D\\u043E\\u0432\\u0456 \\u0432\\u0438\\u0442\\u0440\\u0430\\u0442\\u0438\"), __jsx(\"th\", {\n    className: \"jsx-943465413\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 19\n    }\n  }, \"\\u0421\\u0443\\u043C\\u0430\"), __jsx(\"th\", {\n    className: \"jsx-943465413\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 19\n    }\n  }, \"\\u0417\\u0456\\u0431\\u0440\\u0430\\u043D\\u043E\"), __jsx(\"th\", {\n    className: \"jsx-943465413\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  }, \"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0456\\u043A\\u043E\\u0432\\u0430\\u043D\\u043E\"), __jsx(\"th\", {\n    className: \"jsx-943465413\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 19\n    }\n  }, \"\\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D\\u043E\"))), __jsx(\"tbody\", {\n    className: \"jsx-943465413\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, getSortedProjects(projects).map(function (project, index) {\n    return __jsx(Link, {\n      key: project._id,\n      href: \"/admin/project/view/[id]\",\n      as: \"/admin/project/view/\".concat(project._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 19\n      }\n    }, __jsx(\"tr\", {\n      className: \"jsx-943465413\" + \" \" + \"project-table-row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, __jsx(\"td\", {\n      className: \"jsx-943465413\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 23\n      }\n    }, index + 1), __jsx(\"td\", {\n      className: \"jsx-943465413\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 23\n      }\n    }, project.name), __jsx(\"td\", {\n      className: \"jsx-943465413\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 23\n      }\n    }, project.plannedSpendings), __jsx(\"td\", {\n      className: \"jsx-943465413\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 23\n      }\n    }, project.amount), __jsx(\"td\", {\n      className: \"jsx-943465413\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 23\n      }\n    }, project.amountFunded), __jsx(\"td\", {\n      className: \"jsx-943465413\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 23\n      }\n    }, project.published.toString()), __jsx(\"td\", {\n      className: \"jsx-943465413\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 23\n      }\n    }, project.completed.toString())));\n  })))))), __jsx(_JSXStyle, {\n    id: \"943465413\",\n    __self: _this\n  }, \".project-table-row.jsx-943465413{cursor:pointer;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx4YW1wcFxcaHRkb2NzXFxteXNlcnZlclxcZG9uYXRlLnNocHAuY29tLWZyb250ZW5kXFxwYWdlc1xcYWRtaW5cXHByb2plY3RzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXVFVSxBQUc4QixlQUNqQiIsImZpbGUiOiJDOlxceGFtcHBcXGh0ZG9jc1xcbXlzZXJ2ZXJcXGRvbmF0ZS5zaHBwLmNvbS1mcm9udGVuZFxccGFnZXNcXGFkbWluXFxwcm9qZWN0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgeyBDYXJkLCBDb250YWluZXIsIFRhYmxlIH0gZnJvbSAncmVhY3QtYm9vdHN0cmFwJztcbmltcG9ydCBQYWdlIGZyb20gJy4uLy4uL2xheW91dC9hZG1pbi9QYWdlJztcbmltcG9ydCB3aXRoQXV0aCBmcm9tICcuLi8uLi9sYXlvdXQvYWRtaW4vSE9DL3dpdGhBdXRoJztcbmltcG9ydCB7IFBST0pFQ1RTX0xJU1QgfSBmcm9tICcuLi8uLi91dGlscy9hcGlVcmxzJztcbmltcG9ydCB7IGZldGNoRGF0YUdldCB9IGZyb20gJy4uLy4uL3V0aWxzL2ZldGNoRGF0YSc7XG5cblxuY29uc3QgQWRtaW5MaXN0UGFnZSA9IChwcm9wcykgPT4ge1xuICBjb25zdCBnZXRTb3J0ZWRQcm9qZWN0cyA9IChwcm9qZWN0cykgPT4ge1xuICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICAgIGNvbnN0IHsgZmlsdGVyIH0gPSByb3V0ZXIucXVlcnk7XG4gICAgY29uc3QgY29tcGxldGVkUHJvamVjdHMgPSBwcm9qZWN0cy5maWx0ZXIoKHByb2plY3QpID0+IHByb2plY3QuY29tcGxldGVkKTtcbiAgICBjb25zdCBub3RDb21wbGV0ZWRQcm9qZWN0cyA9IHByb2plY3RzLmZpbHRlcigocHJvamVjdCkgPT4gIXByb2plY3QuY29tcGxldGVkKTtcblxuXG4gICAgcmV0dXJuIGZpbHRlciA9PT0gJ2NvbXBsZXRlZCdcbiAgICAgID8gWy4uLihjb21wbGV0ZWRQcm9qZWN0cy5zb3J0KChhLCBiKSA9PiAoYS5jcmVhdGlvblRpbWUgPCBiLmNyZWF0aW9uVGltZSA/IDEgOiAtMSkpKV1cbiAgICAgIDogW1xuICAgICAgICAuLi4obm90Q29tcGxldGVkUHJvamVjdHMuc29ydCgoYSwgYikgPT4gKGEuY3JlYXRpb25UaW1lIDwgYi5jcmVhdGlvblRpbWUgPyAxIDogLTEpKSksXG4gICAgICAgIC4uLihjb21wbGV0ZWRQcm9qZWN0cy5zb3J0KChhLCBiKSA9PiAoYS5jcmVhdGlvblRpbWUgPCBiLmNyZWF0aW9uVGltZSA/IDEgOiAtMSkpKSxcbiAgICAgIF07XG4gIH07XG5cbiAgY29uc3QgeyBwcm9qZWN0cyB9ID0gcHJvcHM7XG5cbiAgcmV0dXJuIChcbiAgICA8UGFnZT5cbiAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPtCf0YDQvtC10LrRgtC4PC9oMT5cbiAgICAgIDxDb250YWluZXI+XG4gICAgICAgIDxDYXJkPlxuICAgICAgICAgIDxDYXJkLkhlYWRlciBjbGFzc05hbWU9XCJqdXN0aWZ5LWNvbnRlbnQtYXJvdW5kIGQtZmxleFwiIC8+XG4gICAgICAgICAgPENhcmQuQm9keT5cbiAgICAgICAgICAgIDxUYWJsZSBzdHJpcGVkIGJvcmRlcmVkIGhvdmVyIHNpemU9XCJzbVwiPlxuICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgPHRoPiM8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoPtCd0LDQt9Cy0LA8L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoPtCf0LvQsNC90L7QstGWINCy0LjRgtGA0LDRgtC4PC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aD7QodGD0LzQsDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGg+0JfRltCx0YDQsNC90L48L3RoPlxuICAgICAgICAgICAgICAgICAgPHRoPtCe0L/Rg9Cx0LvRltC60L7QstCw0L3QvjwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGg+0JfQsNCy0LXRgNGI0LXQvdC+PC90aD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAge2dldFNvcnRlZFByb2plY3RzKHByb2plY3RzKS5tYXAoKHByb2plY3QsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICBrZXk9e3Byb2plY3QuX2lkfVxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiL2FkbWluL3Byb2plY3Qvdmlldy9baWRdXCJcbiAgICAgICAgICAgICAgICAgICAgYXM9e2AvYWRtaW4vcHJvamVjdC92aWV3LyR7cHJvamVjdC5faWR9YH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cInByb2plY3QtdGFibGUtcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkPntpbmRleCArIDF9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3Byb2plY3QubmFtZX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD57cHJvamVjdC5wbGFubmVkU3BlbmRpbmdzfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHRkPntwcm9qZWN0LmFtb3VudH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD57cHJvamVjdC5hbW91bnRGdW5kZWR9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3Byb2plY3QucHVibGlzaGVkLnRvU3RyaW5nKCl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3Byb2plY3QuY29tcGxldGVkLnRvU3RyaW5nKCl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgIDwvVGFibGU+XG4gICAgICAgICAgPC9DYXJkLkJvZHk+XG4gICAgICAgIDwvQ2FyZD5cbiAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge1xuICAgICAgICAgIGBcbiAgICAgICAgICAucHJvamVjdC10YWJsZS1yb3cge1xuICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYFxuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvUGFnZT5cbiAgKTtcbn07XG5cbkFkbWluTGlzdFBhZ2UuZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaERhdGFHZXQoYCR7UFJPSkVDVFNfTElTVH1gKTtcblxuICByZXR1cm4ge1xuICAgIHByb2plY3RzOiByZXMucHJvamVjdHMsXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoQXV0aChBZG1pbkxpc3RQYWdlKTtcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\xampp\\\\\\\\htdocs\\\\\\\\myserver\\\\\\\\donate.shpp.com-frontend\\\\\\\\pages\\\\\\\\admin\\\\\\\\projects.js */\"));\n};\n\nAdminListPage.getInitialProps = function _callee() {\n  var res;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetchDataGet(\"\".concat(PROJECTS_LIST)));\n\n        case 2:\n          res = _context.sent;\n          return _context.abrupt(\"return\", {\n            projects: res.projects\n          });\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default withAuth(AdminListPage);","map":{"version":3,"sources":["C:/xampp/htdocs/myserver/donate.shpp.com-frontend/pages/admin/projects.js"],"names":["useRouter","Link","Card","Container","Table","Page","withAuth","PROJECTS_LIST","fetchDataGet","AdminListPage","props","getSortedProjects","projects","router","filter","query","completedProjects","project","completed","notCompletedProjects","sort","a","b","creationTime","map","index","_id","name","plannedSpendings","amount","amountFunded","published","toString","getInitialProps","res"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { Card, Container, Table } from 'react-bootstrap';\nimport Page from '../../layout/admin/Page';\nimport withAuth from '../../layout/admin/HOC/withAuth';\nimport { PROJECTS_LIST } from '../../utils/apiUrls';\nimport { fetchDataGet } from '../../utils/fetchData';\n\n\nconst AdminListPage = (props) => {\n  const getSortedProjects = (projects) => {\n    const router = useRouter();\n    const { filter } = router.query;\n    const completedProjects = projects.filter((project) => project.completed);\n    const notCompletedProjects = projects.filter((project) => !project.completed);\n\n\n    return filter === 'completed'\n      ? [...(completedProjects.sort((a, b) => (a.creationTime < b.creationTime ? 1 : -1)))]\n      : [\n        ...(notCompletedProjects.sort((a, b) => (a.creationTime < b.creationTime ? 1 : -1))),\n        ...(completedProjects.sort((a, b) => (a.creationTime < b.creationTime ? 1 : -1))),\n      ];\n  };\n\n  const { projects } = props;\n\n  return (\n    <Page>\n      <h1 className=\"text-center\">Проекти</h1>\n      <Container>\n        <Card>\n          <Card.Header className=\"justify-content-around d-flex\" />\n          <Card.Body>\n            <Table striped bordered hover size=\"sm\">\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>Назва</th>\n                  <th>Планові витрати</th>\n                  <th>Сума</th>\n                  <th>Зібрано</th>\n                  <th>Опубліковано</th>\n                  <th>Завершено</th>\n                </tr>\n              </thead>\n              <tbody>\n                {getSortedProjects(projects).map((project, index) => (\n                  <Link\n                    key={project._id}\n                    href=\"/admin/project/view/[id]\"\n                    as={`/admin/project/view/${project._id}`}\n                  >\n                    <tr className=\"project-table-row\">\n                      <td>{index + 1}</td>\n                      <td>{project.name}</td>\n                      <td>{project.plannedSpendings}</td>\n                      <td>{project.amount}</td>\n                      <td>{project.amountFunded}</td>\n                      <td>{project.published.toString()}</td>\n                      <td>{project.completed.toString()}</td>\n                    </tr>\n                  </Link>\n                ))}\n              </tbody>\n            </Table>\n          </Card.Body>\n        </Card>\n      </Container>\n      <style jsx>\n        {\n          `\n          .project-table-row {\n              cursor: pointer;\n            }\n          `\n        }\n      </style>\n    </Page>\n  );\n};\n\nAdminListPage.getInitialProps = async () => {\n  const res = await fetchDataGet(`${PROJECTS_LIST}`);\n\n  return {\n    projects: res.projects,\n  };\n};\n\nexport default withAuth(AdminListPage);\n"]},"metadata":{},"sourceType":"module"}