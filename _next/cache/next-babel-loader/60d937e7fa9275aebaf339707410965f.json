{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\myserver\\\\donate.shpp.com-frontend\\\\components\\\\ProjectCard.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport React from 'react';\nimport Link from 'next/link';\nimport ProgressBar from './ProgressBar';\nimport placeholderData from '../mock/placeholderData';\nimport colors from '../theme/colors';\nvar styles = {\n  infoWrapper: {\n    padding: '10px',\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1\n  },\n  publishedAt: {\n    textAlign: 'right',\n    opacity: '0.6'\n  },\n  description: {\n    margin: '10px 0 15px',\n    flexGrow: 1\n  }\n};\n\nvar ProjectCard = /*#__PURE__*/function (_React$Component) {\n  _inherits(ProjectCard, _React$Component);\n\n  function ProjectCard(props) {\n    var _this;\n\n    _classCallCheck(this, ProjectCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProjectCard).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmitClick\", function () {\n      var form = _this.submitRef.current.getElementsByTagName('form')[0];\n\n      if (form) {\n        form.setAttribute('target', '_blank');\n        form.submit();\n      }\n    });\n\n    _this.submitRef = React.createRef();\n    _this.state = {\n      button: ''\n    };\n    return _this;\n  }\n\n  _createClass(ProjectCard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var project = this.props.project;\n      var prefix = 'https://cors-anywhere.herokuapp.com/'; // TODO: Remove when CORS will be fixed\n\n      fetch(\"\".concat(prefix, \"https://back.donate.2.shpp.me/api/v1/projects/button?id=\").concat(project._id)).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return _this2.setState({\n          button: data.button.replace(/\\\\/g, '')\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var project = this.props.project;\n      var button = this.state.button;\n      return __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: \"/projects/[id]\",\n        as: \"/projects/\".concat(project._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: project.image || placeholderData.imagePlaceholder,\n        alt: \"placeholder\",\n        className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"project-image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        style: styles.infoWrapper,\n        className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: \"/projects/[id]\",\n        as: \"/projects/\".concat(project._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, __jsx(\"h3\", {\n        className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"project-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, project.name)), __jsx(\"p\", {\n        style: styles.description,\n        className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, project.description), !project.completed && __jsx(\"div\", {\n        className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"funded-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"\\u0412\\u0436\\u0435 \\u0437\\u0456\\u0431\\u0440\\u0430\\u043B\\u0438: \".concat(project.amountFunded, \" \\u0433\\u0440\\u043D (\\u0437 \").concat(project.amount, \" \\u0433\\u0440\\u043D)\")), __jsx(ProgressBar, {\n        amount: project.amount,\n        funded: project.amountFunded,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), !project.completed && __jsx(\"div\", {\n        ref: this.submitRef,\n        className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"button-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, __jsx(\"button\", {\n        type: \"button\",\n        onClick: this.onSubmitClick,\n        onKeyPress: function onKeyPress() {},\n        className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"submit-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"\\u041F\\u0456\\u0434\\u0442\\u0440\\u0438\\u043C\\u0430\\u0442\\u0438\"), __jsx(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: button\n        },\n        className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"liqpay-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }))), __jsx(_JSXStyle, {\n        id: \"1632828356\",\n        dynamic: [colors.green, colors.green, colors.white, colors.white],\n        __self: this\n      }, \".card.__jsx-style-dynamic-selector:hover{-webkit-transform:translateY(-4px);-ms-transform:translateY(-4px);transform:translateY(-4px);box-shadow:0 20px 25px rgba(0,0,0,0.15) !important;}.card.__jsx-style-dynamic-selector:hover h3.__jsx-style-dynamic-selector{color:\".concat(colors.green, \";}.liqpay-form.__jsx-style-dynamic-selector{display:none;}.project-image.__jsx-style-dynamic-selector{height:150px;object-fit:cover;margin:0 0 10px;width:100%;cursor:pointer;}.project-title.__jsx-style-dynamic-selector{margin:5px 0;cursor:pointer;}.button-wrapper.__jsx-style-dynamic-selector{padding:25px 0 15px;text-align:center;}.funded-text.__jsx-style-dynamic-selector{margin-bottom:5px;display:inline-block;}.submit-button.__jsx-style-dynamic-selector{background-color:\").concat(colors.green, \";color:\").concat(colors.white, \";border:none;padding:10px 25px;font-size:20px;display:inline-block;cursor:pointer;}.card.__jsx-style-dynamic-selector{margin:0 15px 50px;width:calc(100%/3 - 30px);max-width:540px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:\").concat(colors.white, \";-webkit-transition:0.3s;transition:0.3s;box-shadow:0 1px 4px rgba(0,0,0,0.1);}@media screen and (max-width:1240px){.card.__jsx-style-dynamic-selector{margin:0 15px 40px;width:calc(100%/2 - 30px);}}@media screen and (max-width:768px){.card.__jsx-style-dynamic-selector{margin:0 0 30px;width:100%;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx4YW1wcFxcaHRkb2NzXFxteXNlcnZlclxcZG9uYXRlLnNocHAuY29tLWZyb250ZW5kXFxjb21wb25lbnRzXFxQcm9qZWN0Q2FyZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFzR1ksQUFFMEMsQUFJUSxBQUd0QixBQUdBLEFBT0EsQUFJTyxBQUlGLEFBSTRCLEFBUzNCLEFBV0UsQUFNSCxhQS9DcEIsQUFHbUIsQUFPRixHQXNDRixFQTlCUSxDQWFLLEFBV0UsQ0E1QlYsT0FtQ2xCLENBdENGLEVBUGtCLEtBUGxCLEdBa0JBLENBSUEsTUFha0IsQUFXaEIsQ0F0Q1csQUFpQndCLFdBaEJwQixJQTJCRixXQTFCZixTQWdCYyxZQTlCMEMsQUErQnBDLGtCQUNILGVBQ00sU0FRQyxTQXhDeEIsR0FpQ2lCLGVBQ2pCLG1EQU9nRCw4Q0FDOUIsd0NBQ3dCLHFDQUMxQyIsImZpbGUiOiJDOlxceGFtcHBcXGh0ZG9jc1xcbXlzZXJ2ZXJcXGRvbmF0ZS5zaHBwLmNvbS1mcm9udGVuZFxcY29tcG9uZW50c1xcUHJvamVjdENhcmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy11bmZldGNoJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vUHJvZ3Jlc3NCYXInO1xuaW1wb3J0IHBsYWNlaG9sZGVyRGF0YSBmcm9tICcuLi9tb2NrL3BsYWNlaG9sZGVyRGF0YSc7XG5pbXBvcnQgY29sb3JzIGZyb20gJy4uL3RoZW1lL2NvbG9ycyc7XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgaW5mb1dyYXBwZXI6IHtcbiAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIGZsZXhHcm93OiAxLFxuICB9LFxuICBwdWJsaXNoZWRBdDoge1xuICAgIHRleHRBbGlnbjogJ3JpZ2h0JyxcbiAgICBvcGFjaXR5OiAnMC42JyxcbiAgfSxcbiAgZGVzY3JpcHRpb246IHtcbiAgICBtYXJnaW46ICcxMHB4IDAgMTVweCcsXG4gICAgZmxleEdyb3c6IDEsXG4gIH0sXG59O1xuXG5jbGFzcyBQcm9qZWN0Q2FyZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3VibWl0UmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGJ1dHRvbjogJycsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgcHJvamVjdCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBwcmVmaXggPSAnaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmhlcm9rdWFwcC5jb20vJzsgLy8gVE9ETzogUmVtb3ZlIHdoZW4gQ09SUyB3aWxsIGJlIGZpeGVkXG4gICAgZmV0Y2goYCR7cHJlZml4fWh0dHBzOi8vYmFjay5kb25hdGUuMi5zaHBwLm1lL2FwaS92MS9wcm9qZWN0cy9idXR0b24/aWQ9JHtwcm9qZWN0Ll9pZH1gKVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYnV0dG9uOiBkYXRhLmJ1dHRvbi5yZXBsYWNlKC9cXFxcL2csICcnKSxcbiAgICAgIH0pKTtcbiAgfVxuXG4gIG9uU3VibWl0Q2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IHRoaXMuc3VibWl0UmVmLmN1cnJlbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Zvcm0nKVswXTtcbiAgICBpZiAoZm9ybSkge1xuICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKTtcbiAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb2plY3QgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBidXR0b24gfSA9IHRoaXMuc3RhdGU7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICA8TGluayBocmVmPVwiL3Byb2plY3RzL1tpZF1cIiBhcz17YC9wcm9qZWN0cy8ke3Byb2plY3QuX2lkfWB9PlxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIHNyYz17cHJvamVjdC5pbWFnZSB8fCBwbGFjZWhvbGRlckRhdGEuaW1hZ2VQbGFjZWhvbGRlcn1cbiAgICAgICAgICAgIGFsdD1cInBsYWNlaG9sZGVyXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb2plY3QtaW1hZ2VcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvTGluaz5cbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLmluZm9XcmFwcGVyfT5cbiAgICAgICAgICA8TGluayBocmVmPVwiL3Byb2plY3RzL1tpZF1cIiBhcz17YC9wcm9qZWN0cy8ke3Byb2plY3QuX2lkfWB9PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInByb2plY3QtdGl0bGVcIj5cbiAgICAgICAgICAgICAge3Byb2plY3QubmFtZX1cbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuZGVzY3JpcHRpb259PlxuICAgICAgICAgICAge3Byb2plY3QuZGVzY3JpcHRpb259XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHshcHJvamVjdC5jb21wbGV0ZWQgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZnVuZGVkLXRleHRcIj5cbiAgICAgICAgICAgICAgICB7YNCS0LbQtSDQt9GW0LHRgNCw0LvQuDogJHtwcm9qZWN0LmFtb3VudEZ1bmRlZH0g0LPRgNC9ICjQtyAke3Byb2plY3QuYW1vdW50fSDQs9GA0L0pYH1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8UHJvZ3Jlc3NCYXJcbiAgICAgICAgICAgICAgICBhbW91bnQ9e3Byb2plY3QuYW1vdW50fVxuICAgICAgICAgICAgICAgIGZ1bmRlZD17cHJvamVjdC5hbW91bnRGdW5kZWR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHshcHJvamVjdC5jb21wbGV0ZWQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24td3JhcHBlclwiIHJlZj17dGhpcy5zdWJtaXRSZWZ9PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3VibWl0LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblN1Ym1pdENsaWNrfVxuICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9eygpID0+IHt9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg0J/RltC00YLRgNC40LzQsNGC0LhcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGJ1dHRvbiB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImxpcXBheS1mb3JtXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGAuY2FyZDpob3ZlcntcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC00cHgpO1xuICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDIwcHggMjVweCByZ2JhKDAsIDAsIDAsIDAuMTUpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY2FyZDpob3ZlciBoM3tcbiAgICAgICAgICAgICAgY29sb3I6ICR7Y29sb3JzLmdyZWVufTtcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIC5saXFwYXktZm9ybSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICAucHJvamVjdC1pbWFnZSB7XG4gICAgICAgICAgICAgIGhlaWdodDogMTUwcHg7XG4gICAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgICAgICAgICAgICBtYXJnaW46IDAgMCAxMHB4O1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICAgICAgLnByb2plY3QtdGl0bGUge1xuICAgICAgICAgICAgICBtYXJnaW46IDVweCAwO1xuICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICAuYnV0dG9uLXdyYXBwZXIge1xuICAgICAgICAgICAgICBwYWRkaW5nOiAyNXB4IDAgMTVweDtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICAgICAgLmZ1bmRlZC10ZXh0IHtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICAuc3VibWl0LWJ1dHRvbiB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Y29sb3JzLmdyZWVufTtcbiAgICAgICAgICAgICAgY29sb3I6ICR7Y29sb3JzLndoaXRlfTtcbiAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDI1cHg7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICAuY2FyZHtcbiAgICAgICAgICAgICAgbWFyZ2luOiAwIDE1cHggNTBweDtcbiAgICAgICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJS8zIC0gMzBweCk7XG4gICAgICAgICAgICAgIG1heC13aWR0aDogNTQwcHg7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Y29sb3JzLndoaXRlfTtcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4zcztcbiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEyNDBweCl7XG4gICAgICAgICAgICAgIC5jYXJke1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMCAxNXB4IDQwcHg7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJS8yIC0gMzBweCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gICAgICAgICBcbiAgICAgICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KXtcbiAgICAgICAgICAgICAgLmNhcmR7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwIDAgMzBweDtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYFxuICAgICAgICAgIH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvamVjdENhcmQ7XG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\xampp\\\\\\\\htdocs\\\\\\\\myserver\\\\\\\\donate.shpp.com-frontend\\\\\\\\components\\\\\\\\ProjectCard.js */\")));\n    }\n  }]);\n\n  return ProjectCard;\n}(React.Component);\n\nexport default ProjectCard;","map":{"version":3,"sources":["C:/xampp/htdocs/myserver/donate.shpp.com-frontend/components/ProjectCard.js"],"names":["fetch","React","Link","ProgressBar","placeholderData","colors","styles","infoWrapper","padding","display","flexDirection","flexGrow","publishedAt","textAlign","opacity","description","margin","ProjectCard","props","form","submitRef","current","getElementsByTagName","setAttribute","submit","createRef","state","button","project","prefix","_id","then","res","json","data","setState","replace","green","white","image","imagePlaceholder","name","completed","amountFunded","amount","onSubmitClick","__html","Component"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport React from 'react';\nimport Link from 'next/link';\nimport ProgressBar from './ProgressBar';\nimport placeholderData from '../mock/placeholderData';\nimport colors from '../theme/colors';\n\nconst styles = {\n  infoWrapper: {\n    padding: '10px',\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1,\n  },\n  publishedAt: {\n    textAlign: 'right',\n    opacity: '0.6',\n  },\n  description: {\n    margin: '10px 0 15px',\n    flexGrow: 1,\n  },\n};\n\nclass ProjectCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.submitRef = React.createRef();\n    this.state = {\n      button: '',\n    };\n  }\n\n  componentDidMount() {\n    const { project } = this.props;\n    const prefix = 'https://cors-anywhere.herokuapp.com/'; // TODO: Remove when CORS will be fixed\n    fetch(`${prefix}https://back.donate.2.shpp.me/api/v1/projects/button?id=${project._id}`)\n      .then((res) => res.json())\n      .then((data) => this.setState({\n        button: data.button.replace(/\\\\/g, ''),\n      }));\n  }\n\n  onSubmitClick = () => {\n    const form = this.submitRef.current.getElementsByTagName('form')[0];\n    if (form) {\n      form.setAttribute('target', '_blank');\n      form.submit();\n    }\n  };\n\n  render() {\n    const { project } = this.props;\n    const { button } = this.state;\n    return (\n      <div className=\"card\">\n        <Link href=\"/projects/[id]\" as={`/projects/${project._id}`}>\n          <img\n            src={project.image || placeholderData.imagePlaceholder}\n            alt=\"placeholder\"\n            className=\"project-image\"\n          />\n        </Link>\n        <div style={styles.infoWrapper}>\n          <Link href=\"/projects/[id]\" as={`/projects/${project._id}`}>\n            <h3 className=\"project-title\">\n              {project.name}\n            </h3>\n          </Link>\n          <p style={styles.description}>\n            {project.description}\n          </p>\n          {!project.completed && (\n            <div>\n              <span className=\"funded-text\">\n                {`Вже зібрали: ${project.amountFunded} грн (з ${project.amount} грн)`}\n              </span>\n              <ProgressBar\n                amount={project.amount}\n                funded={project.amountFunded}\n              />\n            </div>\n          )}\n          {!project.completed && (\n            <div className=\"button-wrapper\" ref={this.submitRef}>\n              <button\n                className=\"submit-button\"\n                type=\"button\"\n                onClick={this.onSubmitClick}\n                onKeyPress={() => {}}\n              >\n                Підтримати\n              </button>\n              <div\n                dangerouslySetInnerHTML={{ __html: button }}\n                className=\"liqpay-form\"\n              />\n            </div>\n          )}\n        </div>\n        <style jsx>\n          {\n            `.card:hover{\n              transform: translateY(-4px);\n              box-shadow: 0 20px 25px rgba(0, 0, 0, 0.15) !important;\n            }\n            .card:hover h3{\n              color: ${colors.green};\n            }                     \n            .liqpay-form {\n              display: none;\n            }            \n            .project-image {\n              height: 150px;\n              object-fit: cover;\n              margin: 0 0 10px;\n              width: 100%;\n              cursor: pointer;\n            }            \n            .project-title {\n              margin: 5px 0;\n              cursor: pointer;\n            }            \n            .button-wrapper {\n              padding: 25px 0 15px;\n              text-align: center;\n            }            \n            .funded-text {\n              margin-bottom: 5px;\n              display: inline-block;\n            }            \n            .submit-button {\n              background-color: ${colors.green};\n              color: ${colors.white};\n              border: none;\n              padding: 10px 25px;\n              font-size: 20px;\n              display: inline-block;\n              cursor: pointer;\n            }            \n            .card{\n              margin: 0 15px 50px;\n              width: calc(100%/3 - 30px);\n              max-width: 540px;\n              display: flex;\n              flex-direction: column;\n              background-color: ${colors.white};\n              transition: 0.3s;\n              box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n            }                     \n            @media screen and (max-width: 1240px){\n              .card{\n                margin: 0 15px 40px;\n                width: calc(100%/2 - 30px);\n              }\n            }         \n            @media screen and (max-width: 768px){\n              .card{\n                margin: 0 0 30px;\n                width: 100%;\n              }\n            }\n            `\n          }\n        </style>\n      </div>\n    );\n  }\n}\n\nexport default ProjectCard;\n"]},"metadata":{},"sourceType":"module"}