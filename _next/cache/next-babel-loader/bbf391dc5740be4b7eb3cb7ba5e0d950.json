{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\myserver\\\\donate.shpp.com-frontend\\\\components\\\\ProjectCard.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport fetch from 'isomorphic-unfetch';\nimport React from 'react';\nimport Link from 'next/link';\nimport ProgressBar from './ProgressBar';\nimport placeholderData from '../mock/placeholderData';\nimport colors from '../theme/colors';\nconst styles = {\n  infoWrapper: {\n    padding: '10px',\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1\n  },\n  publishedAt: {\n    textAlign: 'right',\n    opacity: '0.6'\n  },\n  description: {\n    margin: '10px 0 15px',\n    flexGrow: 1\n  }\n};\n\nclass ProjectCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onSubmitClick\", () => {\n      const form = this.submitRef.current.getElementsByTagName('form')[0];\n\n      if (form) {\n        form.setAttribute('target', '_blank');\n        form.submit();\n      }\n    });\n\n    this.submitRef = React.createRef();\n    this.state = {\n      button: ''\n    };\n  }\n\n  componentDidMount() {\n    const {\n      project\n    } = this.props;\n    const prefix = 'https://cors-anywhere.herokuapp.com/'; // TODO: Remove when CORS will be fixed\n\n    fetch(`${prefix}https://back.donate.2.shpp.me/api/v1/projects/button?id=${project._id}`).then(res => res.json()).then(data => this.setState({\n      button: data.button.replace(/\\\\/g, '')\n    }));\n  }\n\n  render() {\n    const {\n      project\n    } = this.props;\n    const {\n      button\n    } = this.state;\n    return __jsx(\"div\", {\n      className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/projects/[id]\",\n      as: `/projects/${project._id}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: project.image || placeholderData.imagePlaceholder,\n      alt: \"placeholder\",\n      className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"project-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      style: styles.infoWrapper,\n      className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/projects/[id]\",\n      as: `/projects/${project._id}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, __jsx(\"h3\", {\n      className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"project-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, project.name)), __jsx(\"p\", {\n      style: styles.description,\n      className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, project.description), !project.completed && __jsx(\"div\", {\n      className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"funded-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, `Вже зібрали: ${project.amountFunded} грн (з ${project.amount} грн)`), __jsx(ProgressBar, {\n      amount: project.amount,\n      funded: project.amountFunded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), !project.completed && __jsx(\"div\", {\n      ref: this.submitRef,\n      className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"button-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, __jsx(\"button\", {\n      type: \"button\",\n      onClick: this.onSubmitClick,\n      onKeyPress: () => {},\n      className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"submit-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"\\u041F\\u0456\\u0434\\u0442\\u0440\\u0438\\u043C\\u0430\\u0442\\u0438\"), __jsx(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: button\n      },\n      className: _JSXStyle.dynamic([[\"1632828356\", [colors.green, colors.green, colors.white, colors.white]]]) + \" \" + \"liqpay-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }))), __jsx(_JSXStyle, {\n      id: \"1632828356\",\n      dynamic: [colors.green, colors.green, colors.white, colors.white],\n      __self: this\n    }, `.card.__jsx-style-dynamic-selector:hover{-webkit-transform:translateY(-4px);-ms-transform:translateY(-4px);transform:translateY(-4px);box-shadow:0 20px 25px rgba(0,0,0,0.15) !important;}.card.__jsx-style-dynamic-selector:hover h3.__jsx-style-dynamic-selector{color:${colors.green};}.liqpay-form.__jsx-style-dynamic-selector{display:none;}.project-image.__jsx-style-dynamic-selector{height:150px;object-fit:cover;margin:0 0 10px;width:100%;cursor:pointer;}.project-title.__jsx-style-dynamic-selector{margin:5px 0;cursor:pointer;}.button-wrapper.__jsx-style-dynamic-selector{padding:25px 0 15px;text-align:center;}.funded-text.__jsx-style-dynamic-selector{margin-bottom:5px;display:inline-block;}.submit-button.__jsx-style-dynamic-selector{background-color:${colors.green};color:${colors.white};border:none;padding:10px 25px;font-size:20px;display:inline-block;cursor:pointer;}.card.__jsx-style-dynamic-selector{margin:0 15px 50px;width:calc(100%/3 - 30px);max-width:540px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:${colors.white};-webkit-transition:0.3s;transition:0.3s;box-shadow:0 1px 4px rgba(0,0,0,0.1);}@media screen and (max-width:1240px){.card.__jsx-style-dynamic-selector{margin:0 15px 40px;width:calc(100%/2 - 30px);}}@media screen and (max-width:768px){.card.__jsx-style-dynamic-selector{margin:0 0 30px;width:100%;}}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx4YW1wcFxcaHRkb2NzXFxteXNlcnZlclxcZG9uYXRlLnNocHAuY29tLWZyb250ZW5kXFxjb21wb25lbnRzXFxQcm9qZWN0Q2FyZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFzR1ksQUFFMEMsQUFJUSxBQUd0QixBQUdBLEFBT0EsQUFJTyxBQUlGLEFBSTRCLEFBUzNCLEFBV0UsQUFNSCxhQS9DcEIsQUFHbUIsQUFPRixHQXNDRixFQTlCUSxDQWFLLEFBV0UsQ0E1QlYsT0FtQ2xCLENBdENGLEVBUGtCLEtBUGxCLEdBa0JBLENBSUEsTUFha0IsQUFXaEIsQ0F0Q1csQUFpQndCLFdBaEJwQixJQTJCRixXQTFCZixTQWdCYyxZQTlCMEMsQUErQnBDLGtCQUNILGVBQ00sU0FRQyxTQXhDeEIsR0FpQ2lCLGVBQ2pCLG1EQU9nRCw4Q0FDOUIsd0NBQ3dCLHFDQUMxQyIsImZpbGUiOiJDOlxceGFtcHBcXGh0ZG9jc1xcbXlzZXJ2ZXJcXGRvbmF0ZS5zaHBwLmNvbS1mcm9udGVuZFxcY29tcG9uZW50c1xcUHJvamVjdENhcmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy11bmZldGNoJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4vUHJvZ3Jlc3NCYXInO1xuaW1wb3J0IHBsYWNlaG9sZGVyRGF0YSBmcm9tICcuLi9tb2NrL3BsYWNlaG9sZGVyRGF0YSc7XG5pbXBvcnQgY29sb3JzIGZyb20gJy4uL3RoZW1lL2NvbG9ycyc7XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgaW5mb1dyYXBwZXI6IHtcbiAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIGZsZXhHcm93OiAxLFxuICB9LFxuICBwdWJsaXNoZWRBdDoge1xuICAgIHRleHRBbGlnbjogJ3JpZ2h0JyxcbiAgICBvcGFjaXR5OiAnMC42JyxcbiAgfSxcbiAgZGVzY3JpcHRpb246IHtcbiAgICBtYXJnaW46ICcxMHB4IDAgMTVweCcsXG4gICAgZmxleEdyb3c6IDEsXG4gIH0sXG59O1xuXG5jbGFzcyBQcm9qZWN0Q2FyZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3VibWl0UmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGJ1dHRvbjogJycsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgcHJvamVjdCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBwcmVmaXggPSAnaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmhlcm9rdWFwcC5jb20vJzsgLy8gVE9ETzogUmVtb3ZlIHdoZW4gQ09SUyB3aWxsIGJlIGZpeGVkXG4gICAgZmV0Y2goYCR7cHJlZml4fWh0dHBzOi8vYmFjay5kb25hdGUuMi5zaHBwLm1lL2FwaS92MS9wcm9qZWN0cy9idXR0b24/aWQ9JHtwcm9qZWN0Ll9pZH1gKVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYnV0dG9uOiBkYXRhLmJ1dHRvbi5yZXBsYWNlKC9cXFxcL2csICcnKSxcbiAgICAgIH0pKTtcbiAgfVxuXG4gIG9uU3VibWl0Q2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IHRoaXMuc3VibWl0UmVmLmN1cnJlbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Zvcm0nKVswXTtcbiAgICBpZiAoZm9ybSkge1xuICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKTtcbiAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb2plY3QgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBidXR0b24gfSA9IHRoaXMuc3RhdGU7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICA8TGluayBocmVmPVwiL3Byb2plY3RzL1tpZF1cIiBhcz17YC9wcm9qZWN0cy8ke3Byb2plY3QuX2lkfWB9PlxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIHNyYz17cHJvamVjdC5pbWFnZSB8fCBwbGFjZWhvbGRlckRhdGEuaW1hZ2VQbGFjZWhvbGRlcn1cbiAgICAgICAgICAgIGFsdD1cInBsYWNlaG9sZGVyXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb2plY3QtaW1hZ2VcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvTGluaz5cbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLmluZm9XcmFwcGVyfT5cbiAgICAgICAgICA8TGluayBocmVmPVwiL3Byb2plY3RzL1tpZF1cIiBhcz17YC9wcm9qZWN0cy8ke3Byb2plY3QuX2lkfWB9PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInByb2plY3QtdGl0bGVcIj5cbiAgICAgICAgICAgICAge3Byb2plY3QubmFtZX1cbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuZGVzY3JpcHRpb259PlxuICAgICAgICAgICAge3Byb2plY3QuZGVzY3JpcHRpb259XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHshcHJvamVjdC5jb21wbGV0ZWQgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZnVuZGVkLXRleHRcIj5cbiAgICAgICAgICAgICAgICB7YNCS0LbQtSDQt9GW0LHRgNCw0LvQuDogJHtwcm9qZWN0LmFtb3VudEZ1bmRlZH0g0LPRgNC9ICjQtyAke3Byb2plY3QuYW1vdW50fSDQs9GA0L0pYH1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8UHJvZ3Jlc3NCYXJcbiAgICAgICAgICAgICAgICBhbW91bnQ9e3Byb2plY3QuYW1vdW50fVxuICAgICAgICAgICAgICAgIGZ1bmRlZD17cHJvamVjdC5hbW91bnRGdW5kZWR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHshcHJvamVjdC5jb21wbGV0ZWQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24td3JhcHBlclwiIHJlZj17dGhpcy5zdWJtaXRSZWZ9PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3VibWl0LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblN1Ym1pdENsaWNrfVxuICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9eygpID0+IHt9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg0J/RltC00YLRgNC40LzQsNGC0LhcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGJ1dHRvbiB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImxpcXBheS1mb3JtXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGAuY2FyZDpob3ZlcntcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC00cHgpO1xuICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDIwcHggMjVweCByZ2JhKDAsIDAsIDAsIDAuMTUpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY2FyZDpob3ZlciBoM3tcbiAgICAgICAgICAgICAgY29sb3I6ICR7Y29sb3JzLmdyZWVufTtcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIC5saXFwYXktZm9ybSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICAucHJvamVjdC1pbWFnZSB7XG4gICAgICAgICAgICAgIGhlaWdodDogMTUwcHg7XG4gICAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgICAgICAgICAgICBtYXJnaW46IDAgMCAxMHB4O1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICAgICAgLnByb2plY3QtdGl0bGUge1xuICAgICAgICAgICAgICBtYXJnaW46IDVweCAwO1xuICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICAuYnV0dG9uLXdyYXBwZXIge1xuICAgICAgICAgICAgICBwYWRkaW5nOiAyNXB4IDAgMTVweDtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICAgICAgLmZ1bmRlZC10ZXh0IHtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICAuc3VibWl0LWJ1dHRvbiB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Y29sb3JzLmdyZWVufTtcbiAgICAgICAgICAgICAgY29sb3I6ICR7Y29sb3JzLndoaXRlfTtcbiAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDI1cHg7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICAuY2FyZHtcbiAgICAgICAgICAgICAgbWFyZ2luOiAwIDE1cHggNTBweDtcbiAgICAgICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJS8zIC0gMzBweCk7XG4gICAgICAgICAgICAgIG1heC13aWR0aDogNTQwcHg7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7Y29sb3JzLndoaXRlfTtcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4zcztcbiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEyNDBweCl7XG4gICAgICAgICAgICAgIC5jYXJke1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMCAxNXB4IDQwcHg7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJS8yIC0gMzBweCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gICAgICAgICBcbiAgICAgICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KXtcbiAgICAgICAgICAgICAgLmNhcmR7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwIDAgMzBweDtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYFxuICAgICAgICAgIH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvamVjdENhcmQ7XG4iXX0= */\n/*@ sourceURL=C:\\\\xampp\\\\htdocs\\\\myserver\\\\donate.shpp.com-frontend\\\\components\\\\ProjectCard.js */`));\n  }\n\n}\n\nexport default ProjectCard;","map":{"version":3,"sources":["C:/xampp/htdocs/myserver/donate.shpp.com-frontend/components/ProjectCard.js"],"names":["fetch","React","Link","ProgressBar","placeholderData","colors","styles","infoWrapper","padding","display","flexDirection","flexGrow","publishedAt","textAlign","opacity","description","margin","ProjectCard","Component","constructor","props","form","submitRef","current","getElementsByTagName","setAttribute","submit","createRef","state","button","componentDidMount","project","prefix","_id","then","res","json","data","setState","replace","render","green","white","image","imagePlaceholder","name","completed","amountFunded","amount","onSubmitClick","__html"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport React from 'react';\nimport Link from 'next/link';\nimport ProgressBar from './ProgressBar';\nimport placeholderData from '../mock/placeholderData';\nimport colors from '../theme/colors';\n\nconst styles = {\n  infoWrapper: {\n    padding: '10px',\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1,\n  },\n  publishedAt: {\n    textAlign: 'right',\n    opacity: '0.6',\n  },\n  description: {\n    margin: '10px 0 15px',\n    flexGrow: 1,\n  },\n};\n\nclass ProjectCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.submitRef = React.createRef();\n    this.state = {\n      button: '',\n    };\n  }\n\n  componentDidMount() {\n    const { project } = this.props;\n    const prefix = 'https://cors-anywhere.herokuapp.com/'; // TODO: Remove when CORS will be fixed\n    fetch(`${prefix}https://back.donate.2.shpp.me/api/v1/projects/button?id=${project._id}`)\n      .then((res) => res.json())\n      .then((data) => this.setState({\n        button: data.button.replace(/\\\\/g, ''),\n      }));\n  }\n\n  onSubmitClick = () => {\n    const form = this.submitRef.current.getElementsByTagName('form')[0];\n    if (form) {\n      form.setAttribute('target', '_blank');\n      form.submit();\n    }\n  };\n\n  render() {\n    const { project } = this.props;\n    const { button } = this.state;\n    return (\n      <div className=\"card\">\n        <Link href=\"/projects/[id]\" as={`/projects/${project._id}`}>\n          <img\n            src={project.image || placeholderData.imagePlaceholder}\n            alt=\"placeholder\"\n            className=\"project-image\"\n          />\n        </Link>\n        <div style={styles.infoWrapper}>\n          <Link href=\"/projects/[id]\" as={`/projects/${project._id}`}>\n            <h3 className=\"project-title\">\n              {project.name}\n            </h3>\n          </Link>\n          <p style={styles.description}>\n            {project.description}\n          </p>\n          {!project.completed && (\n            <div>\n              <span className=\"funded-text\">\n                {`Вже зібрали: ${project.amountFunded} грн (з ${project.amount} грн)`}\n              </span>\n              <ProgressBar\n                amount={project.amount}\n                funded={project.amountFunded}\n              />\n            </div>\n          )}\n          {!project.completed && (\n            <div className=\"button-wrapper\" ref={this.submitRef}>\n              <button\n                className=\"submit-button\"\n                type=\"button\"\n                onClick={this.onSubmitClick}\n                onKeyPress={() => {}}\n              >\n                Підтримати\n              </button>\n              <div\n                dangerouslySetInnerHTML={{ __html: button }}\n                className=\"liqpay-form\"\n              />\n            </div>\n          )}\n        </div>\n        <style jsx>\n          {\n            `.card:hover{\n              transform: translateY(-4px);\n              box-shadow: 0 20px 25px rgba(0, 0, 0, 0.15) !important;\n            }\n            .card:hover h3{\n              color: ${colors.green};\n            }                     \n            .liqpay-form {\n              display: none;\n            }            \n            .project-image {\n              height: 150px;\n              object-fit: cover;\n              margin: 0 0 10px;\n              width: 100%;\n              cursor: pointer;\n            }            \n            .project-title {\n              margin: 5px 0;\n              cursor: pointer;\n            }            \n            .button-wrapper {\n              padding: 25px 0 15px;\n              text-align: center;\n            }            \n            .funded-text {\n              margin-bottom: 5px;\n              display: inline-block;\n            }            \n            .submit-button {\n              background-color: ${colors.green};\n              color: ${colors.white};\n              border: none;\n              padding: 10px 25px;\n              font-size: 20px;\n              display: inline-block;\n              cursor: pointer;\n            }            \n            .card{\n              margin: 0 15px 50px;\n              width: calc(100%/3 - 30px);\n              max-width: 540px;\n              display: flex;\n              flex-direction: column;\n              background-color: ${colors.white};\n              transition: 0.3s;\n              box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n            }                     \n            @media screen and (max-width: 1240px){\n              .card{\n                margin: 0 15px 40px;\n                width: calc(100%/2 - 30px);\n              }\n            }         \n            @media screen and (max-width: 768px){\n              .card{\n                margin: 0 0 30px;\n                width: 100%;\n              }\n            }\n            `\n          }\n        </style>\n      </div>\n    );\n  }\n}\n\nexport default ProjectCard;\n"]},"metadata":{},"sourceType":"module"}