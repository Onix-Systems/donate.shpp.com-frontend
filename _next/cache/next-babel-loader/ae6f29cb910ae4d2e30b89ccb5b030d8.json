{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\myserver\\\\donate.shpp.com-frontend\\\\pages\\\\index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch';\nimport Page from '../layout/Page';\nimport ProjectCard from '../components/ProjectCard';\nvar styles = {\n  container: {\n    maxWidth: '85%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    margin: '0 auto',\n    padding: '30px 0 0 0'\n  }\n};\n\nvar HomePage = function HomePage(props) {\n  var getSortedProjects = function getSortedProjects(projects) {\n    var router = useRouter();\n    var filter = router.query.filter;\n    var completedProjects = projects.filter(function (project) {\n      return project.completed;\n    });\n    var notCompletedProjects = projects.filter(function (project) {\n      return !project.completed;\n    });\n    return filter === 'completed' ? _toConsumableArray(completedProjects.sort(function (a, b) {\n      return a.creationTime < b.creationTime ? 1 : -1;\n    })) : [].concat(_toConsumableArray(notCompletedProjects.sort(function (a, b) {\n      return a.creationTime < b.creationTime ? 1 : -1;\n    })), _toConsumableArray(completedProjects.sort(function (a, b) {\n      return a.creationTime < b.creationTime ? 1 : -1;\n    })));\n  };\n\n  var projects = props.projects;\n  return __jsx(Page, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: styles.container,\n    className: \"jsx-680452456\" + \" \" + \"homepage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, getSortedProjects(projects).map(function (project) {\n    return __jsx(ProjectCard, {\n      project: project,\n      key: project._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    });\n  })), __jsx(_JSXStyle, {\n    id: \"680452456\",\n    __self: this\n  }, \"@media screen and (max-width:1240px){.homepage.jsx-680452456{max-width:initial !important;width:100% !important;padding:30px 30px 0 !important;}}@media screen and (max-width:768px){.homepage.jsx-680452456{padding:20px 20px 0!important;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx4YW1wcFxcaHRkb2NzXFxteXNlcnZlclxcZG9uYXRlLnNocHAuY29tLWZyb250ZW5kXFxwYWdlc1xcaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNkNRLEFBRzRDLEFBT0MsNkJBTlIsQ0FPQyxxQkFOUSwrQkFDakMsK0NBTUEiLCJmaWxlIjoiQzpcXHhhbXBwXFxodGRvY3NcXG15c2VydmVyXFxkb25hdGUuc2hwcC5jb20tZnJvbnRlbmRcXHBhZ2VzXFxpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnO1xuaW1wb3J0IFBhZ2UgZnJvbSAnLi4vbGF5b3V0L1BhZ2UnO1xuaW1wb3J0IFByb2plY3RDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvUHJvamVjdENhcmQnO1xuXG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgY29udGFpbmVyOiB7XG4gICAgbWF4V2lkdGg6ICc4NSUnLFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBmbGV4V3JhcDogJ3dyYXAnLFxuICAgIG1hcmdpbjogJzAgYXV0bycsXG4gICAgcGFkZGluZzogJzMwcHggMCAwIDAnLFxuICB9LFxufTtcblxuY29uc3QgSG9tZVBhZ2UgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZ2V0U29ydGVkUHJvamVjdHMgPSAocHJvamVjdHMpID0+IHtcbiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgICBjb25zdCB7IGZpbHRlciB9ID0gcm91dGVyLnF1ZXJ5O1xuICAgIGNvbnN0IGNvbXBsZXRlZFByb2plY3RzID0gcHJvamVjdHMuZmlsdGVyKChwcm9qZWN0KSA9PiBwcm9qZWN0LmNvbXBsZXRlZCk7XG4gICAgY29uc3Qgbm90Q29tcGxldGVkUHJvamVjdHMgPSBwcm9qZWN0cy5maWx0ZXIoKHByb2plY3QpID0+ICFwcm9qZWN0LmNvbXBsZXRlZCk7XG5cblxuICAgIHJldHVybiBmaWx0ZXIgPT09ICdjb21wbGV0ZWQnXG4gICAgICA/IFsuLi4oY29tcGxldGVkUHJvamVjdHMuc29ydCgoYSwgYikgPT4gKGEuY3JlYXRpb25UaW1lIDwgYi5jcmVhdGlvblRpbWUgPyAxIDogLTEpKSldXG4gICAgICA6IFtcbiAgICAgICAgLi4uKG5vdENvbXBsZXRlZFByb2plY3RzLnNvcnQoKGEsIGIpID0+IChhLmNyZWF0aW9uVGltZSA8IGIuY3JlYXRpb25UaW1lID8gMSA6IC0xKSkpLFxuICAgICAgICAuLi4oY29tcGxldGVkUHJvamVjdHMuc29ydCgoYSwgYikgPT4gKGEuY3JlYXRpb25UaW1lIDwgYi5jcmVhdGlvblRpbWUgPyAxIDogLTEpKSksXG4gICAgICBdO1xuICB9O1xuXG4gIGNvbnN0IHsgcHJvamVjdHMgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxQYWdlPlxuICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0gY2xhc3NOYW1lPVwiaG9tZXBhZ2VcIj5cbiAgICAgICAge2dldFNvcnRlZFByb2plY3RzKHByb2plY3RzKS5tYXAoKHByb2plY3QpID0+IChcbiAgICAgICAgICA8UHJvamVjdENhcmRcbiAgICAgICAgICAgIHByb2plY3Q9e3Byb2plY3R9XG4gICAgICAgICAgICBrZXk9e3Byb2plY3QuX2lkfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7XG4gICAgICAgIGBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMjQwcHgpe1xuICAgICAgICAgICAgLmhvbWVwYWdlIHtcbiAgICAgICAgICAgICAgbWF4LXdpZHRoOiBpbml0aWFsICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDMwcHggMzBweCAwICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KXtcbiAgICAgICAgICAgIC5ob21lcGFnZSB7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMjBweCAwIWltcG9ydGFudDtcbiAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBgXG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9QYWdlPlxuICApO1xufTtcblxuSG9tZVBhZ2UuZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgZnVuY3Rpb24gZ2V0SW5pdGlhbFByb3BzKCkge1xuICBjb25zdCBwcmVmaXggPSBwcm9jZXNzLmJyb3dzZXIgPyAnaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmhlcm9rdWFwcC5jb20vJyA6ICcnOyAvLyBUT0RPOiBSZW1vdmUgd2hlbiBDT1JTIHdpbGwgYmUgZml4ZWRcblxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtwcmVmaXh9aHR0cHM6Ly9iYWNrLmRvbmF0ZS4yLnNocHAubWUvYXBpL3YxL3Byb2plY3RzL2xpc3RgKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9qZWN0czogZGF0YS5wcm9qZWN0cyxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhvbWVQYWdlO1xuIl19 */\\n/*@ sourceURL=C:\\\\\\\\xampp\\\\\\\\htdocs\\\\\\\\myserver\\\\\\\\donate.shpp.com-frontend\\\\\\\\pages\\\\\\\\index.js */\"));\n};\n\nHomePage.getInitialProps = function getInitialProps() {\n  var prefix, res, data;\n  return _regeneratorRuntime.async(function getInitialProps$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          prefix = true ? 'https://cors-anywhere.herokuapp.com/' : ''; // TODO: Remove when CORS will be fixed\n\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(fetch(\"\".concat(prefix, \"https://back.donate.2.shpp.me/api/v1/projects/list\")));\n\n        case 3:\n          res = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 6:\n          data = _context.sent;\n          return _context.abrupt(\"return\", {\n            projects: data.projects\n          });\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default HomePage;","map":{"version":3,"sources":["C:/xampp/htdocs/myserver/donate.shpp.com-frontend/pages/index.js"],"names":["useRouter","fetch","Page","ProjectCard","styles","container","maxWidth","display","flexWrap","margin","padding","HomePage","props","getSortedProjects","projects","router","filter","query","completedProjects","project","completed","notCompletedProjects","sort","a","b","creationTime","map","_id","getInitialProps","prefix","res","json","data"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch';\nimport Page from '../layout/Page';\nimport ProjectCard from '../components/ProjectCard';\n\n\nconst styles = {\n  container: {\n    maxWidth: '85%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    margin: '0 auto',\n    padding: '30px 0 0 0',\n  },\n};\n\nconst HomePage = (props) => {\n  const getSortedProjects = (projects) => {\n    const router = useRouter();\n    const { filter } = router.query;\n    const completedProjects = projects.filter((project) => project.completed);\n    const notCompletedProjects = projects.filter((project) => !project.completed);\n\n\n    return filter === 'completed'\n      ? [...(completedProjects.sort((a, b) => (a.creationTime < b.creationTime ? 1 : -1)))]\n      : [\n        ...(notCompletedProjects.sort((a, b) => (a.creationTime < b.creationTime ? 1 : -1))),\n        ...(completedProjects.sort((a, b) => (a.creationTime < b.creationTime ? 1 : -1))),\n      ];\n  };\n\n  const { projects } = props;\n  return (\n    <Page>\n      <div style={styles.container} className=\"homepage\">\n        {getSortedProjects(projects).map((project) => (\n          <ProjectCard\n            project={project}\n            key={project._id}\n          />\n        ))}\n      </div>\n      <style jsx>\n        {\n        `@media screen and (max-width: 1240px){\n            .homepage {\n              max-width: initial !important;\n              width: 100% !important;\n              padding: 30px 30px 0 !important;\n            }\n          }\n          @media screen and (max-width: 768px){\n            .homepage {\n              padding: 20px 20px 0!important;\n              justify-content: center;\n            }\n          }\n        `\n        }\n      </style>\n    </Page>\n  );\n};\n\nHomePage.getInitialProps = async function getInitialProps() {\n  const prefix = process.browser ? 'https://cors-anywhere.herokuapp.com/' : ''; // TODO: Remove when CORS will be fixed\n\n  const res = await fetch(`${prefix}https://back.donate.2.shpp.me/api/v1/projects/list`);\n  const data = await res.json();\n\n  return {\n    projects: data.projects,\n  };\n};\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}